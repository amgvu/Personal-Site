!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","rxjs","rxjs/operators"],t):t((e=e||self).ngxAnimatedGradient={},e.ng.common,e.ng.core,e.rxjs,e.operators)}(this,function(e,t,n,o,r){"use strict";var i={FORWARD:0,BACKWARD:1};i[i.FORWARD]="FORWARD",i[i.BACKWARD]="BACKWARD";var s=function(){function e(e,t){this.renderer=e,this.el=t,this.colors=[[62,35,255],[60,255,60],[255,35,98],[45,175,230],[255,0,255],[255,128,0]],this.tickSpeed=16,this.colorIndices=[0,1,2,3],this.gradientSpeed=.002,this.direction=i.FORWARD,this.step$=new o.BehaviorSubject(0),this.componentDestroyed$=new o.Subject,this.gradientRunning$=new o.BehaviorSubject(!0)}return e.prototype.ngOnInit=function(){var e=this;o.combineLatest(o.timer(0,this.tickSpeed),this.gradientRunning$).pipe(r.takeUntil(this.componentDestroyed$)).subscribe(function(t){t[0];if(t[1]){var n=e.direction===i.FORWARD?e.step$.value+e.gradientSpeed:e.step$.value-e.gradientSpeed;n>=1?(e.direction=i.BACKWARD,n=1):n<=0&&(e.direction=i.FORWARD,n=0),e.step$.next(n)}}),o.combineLatest(this.step$,this.gradientRunning$).pipe(r.takeUntil(this.componentDestroyed$)).subscribe(function(t){var n=t[0];return t[1]&&e.render(e.generateColour(n),n)})},e.prototype.ngOnDestroy=function(){this.gradientRunning$.next(!1),this.componentDestroyed$.next(!0),this.gradientRunning$.complete(),this.componentDestroyed$.complete()},e.prototype.createColor=function(e,t,n,o){return"rgb("+Math.round(e*n[0]+t*o[0])+", "+Math.round(e*n[1]+t*o[1])+", "+Math.round(e*n[2]+t*o[2])+")"},e.prototype.getNewColour=function(e){return(this.colorIndices[e]+Math.floor(1+Math.random()*(this.colors.length-1)))%this.colors.length},e.prototype.generateColour=function(e){var t=1-e;return[this.createColor(t,e,this.colors[this.colorIndices[0]],this.colors[this.colorIndices[1]]),this.createColor(t,e,this.colors[this.colorIndices[2]],this.colors[this.colorIndices[3]])]},e.prototype.start=function(){this.gradientRunning$.next(!0)},e.prototype.stop=function(){this.gradientRunning$.next(!1)},e.prototype.newPalette=function(){this.colorIndices[0]=this.colorIndices[1],this.colorIndices[2]=this.colorIndices[3],this.colorIndices[1]=this.getNewColour(1),this.colorIndices[3]=this.getNewColour(3)},e.prototype.render=function(e,t){this.renderer.setStyle(this.el.nativeElement,"background","-webkit-gradient(linear, left top, right top, from("+e[0]+"), to("+e[1]+"))"),this.renderer.setStyle(this.el.nativeElement,"background","-moz-linear-gradient(left, "+e[0]+" 0%, "+e[1]+" 100%)")},e.decorators=[{type:n.Directive,args:[{selector:"[ngxAnimatedGradient]"}]}],e.ctorParameters=function(){return[{type:n.Renderer2},{type:n.ElementRef}]},e.propDecorators={colors:[{type:n.Input}],tickSpeed:[{type:n.Input}],colorIndices:[{type:n.Input}],gradientSpeed:[{type:n.Input}]},e}(),c=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule],exports:[s],declarations:[s]}]}],e}();e.NgxAnimatedGradientDirective=s,e.NgxAnimatedGradientModule=c,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-animated-gradient.umd.min.js.map
